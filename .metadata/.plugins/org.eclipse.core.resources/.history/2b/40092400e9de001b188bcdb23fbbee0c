package com.example.kang.utils;

import java.util.ArrayList;
import java.util.List;

import org.apache.http.client.HttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.springframework.http.client.ClientHttpRequestInterceptor;
import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;
import org.springframework.web.client.RestTemplate;

import com.example.kang.domain.Document;

public class BookApiTest {

	
	private static final String kakaoBookUrl = "https://dapi.kakao.com/v3/search/book?query=난&size=50&page=1";
	
	private static final String clientKey = "1b7846d3dd8606fdce13951f9a8ab5d7";
	
	
	
	public static List<Document> getApi() {

		HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();
		factory.setConnectTimeout(5000); // 타임아웃 설정 5초
		factory.setReadTimeout(5000);// 타임아웃 설정 5초
		HttpClient httpClient = HttpClientBuilder.create() 
				.setMaxConnTotal(100) // connection pool 적용 
				.setMaxConnPerRoute(5) // connection pool 적용 
				.build();
		factory.setHttpClient(httpClient);
		RestTemplate restTemplate = new RestTemplate(factory);
		
		
//		List<ClientHttpRequestInterceptor> interceptors = new ArrayList<ClientHttpRequestInterceptor>();
//		interceptors.add(new HeaderRequestInterceptor("HTTP_AUTH_ACCESS_ID", "skyer9"));
		
		

		
		
		return null;
	}

}
